{% extends "modteam/base.html" %}

{% block title %}–ù–æ–≤–æ—Å—Ç–∏ ‚Äî {{ about.team_name|default:"YinYang Team" }}{% endblock %}

{% block content %}

<div class="section-header">
    <h2>–í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏</h2>
    <div class="line"></div>
</div>

{% if page_obj.object_list %}
<div class="news-grid">
    {% for post in page_obj %}
    <article class="news-card">
        {% if post.cover_image %}
            <img src="{{ post.cover_image.url }}" alt="{{ post.title }}" class="news-card__cover">
        {% else %}
            <div class="news-card__cover-placeholder">üì∞</div>
        {% endif %}
        <div class="news-card__body">
            <div class="news-card__date">{{ post.created_at|date:"d E Y" }}</div>
            <div class="news-card__title">{{ post.title }}</div>
            <div class="news-card__excerpt">{{ post.content|striptags|truncatewords:25 }}</div>
            <div class="news-card__footer">
                <a href="{{ post.get_absolute_url }}" class="btn">–ß–∏—Ç–∞—Ç—å</a>
            </div>
        </div>
    </article>
    {% endfor %}
</div>

{% if page_obj.has_other_pages %}
<div class="pagination">
    {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}">&laquo; –ù–∞–∑–∞–¥</a>
    {% endif %}
    {% for num in page_obj.paginator.page_range %}
        {% if page_obj.number == num %}
            <span class="current">{{ num }}</span>
        {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
            <a href="?page={{ num }}">{{ num }}</a>
        {% endif %}
    {% endfor %}
    {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">–í–ø–µ—Ä—ë–¥ &raquo;</a>
    {% endif %}
</div>
{% endif %}

{% else %}
<div class="empty-state">
    <div class="icon">üì∞</div>
    <p>–ù–æ–≤–æ—Å—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç. –ó–∞—Ö–æ–¥–∏—Ç–µ –ø–æ–∑–∂–µ!</p>
</div>
{% endif %}

{% endblock %}
