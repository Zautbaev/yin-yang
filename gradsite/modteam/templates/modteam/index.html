{% extends "modteam/base.html" %}
{% load static %}

{% block title %}{{ about.team_name|default:"YibYang Team" }} ‚Äî –ì–ª–∞–≤–Ω–∞—è{% endblock %}

{% block hero %}
<section class="hero">
    <div class="hero-content">
        {% if about.logo %}
            <img src="{{ about.logo.url }}" alt="–õ–æ–≥–æ—Ç–∏–ø" class="hero-logo">
        {% endif %}
        <h1>{% if about %}{{ about.team_name }}{% else %}<span>YinYang</span>Team{% endif %}</h1>
        {% if about.tagline %}
            <p>{{ about.tagline }}</p>
        {% endif %}
    </div>
</section>
{% endblock %}

{% block content %}

{% if about and about.founded_year or about.mods_count or about.members_count %}
<div class="stats-bar">
    {% if about.founded_year %}
    <div class="stat-item">
        <div class="num">{{ about.founded_year }}</div>
        <div class="lbl">–ì–æ–¥ –æ—Å–Ω–æ–≤–∞–Ω–∏—è</div>
    </div>
    {% endif %}
    {% if about.mods_count %}
    <div class="stat-item">
        <div class="num">{{ about.mods_count }}</div>
        <div class="lbl">–ú–æ–¥–æ–≤</div>
    </div>
    {% endif %}
    {% if about.members_count %}
    <div class="stat-item">
        <div class="num">{{ about.members_count }}</div>
        <div class="lbl">–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
    </div>
    {% endif %}
</div>
{% endif %}

<div class="section-header">
    <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏</h2>
    <div class="line"></div>
    <a href="{% url 'modteam:news_list' %}">–í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏ ‚Üí</a>
</div>

{% if latest_news %}
<div class="news-grid">
    {% for post in latest_news %}
    <article class="news-card">
        {% if post.cover_image %}
            <img src="{{ post.cover_image.url }}" alt="{{ post.title }}" class="news-card__cover">
        {% else %}
            <div class="news-card__cover-placeholder">üì∞</div>
        {% endif %}
        <div class="news-card__body">
            <div class="news-card__date">{{ post.created_at|date:"d E Y" }}</div>
            <div class="news-card__title">{{ post.title }}</div>
            <div class="news-card__excerpt">{{ post.content|striptags|truncatewords:25 }}</div>
            <div class="news-card__footer">
                <a href="{{ post.get_absolute_url }}" class="btn">–ß–∏—Ç–∞—Ç—å</a>
            </div>
        </div>
    </article>
    {% endfor %}
</div>
{% else %}
<div class="empty-state">
    <div class="icon">üì∞</div>
    <p>–ù–æ–≤–æ—Å—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç. –ó–∞–≥–ª—è–Ω–∏—Ç–µ –ø–æ–∑–∂–µ!</p>
</div>
{% endif %}

{% endblock %}
